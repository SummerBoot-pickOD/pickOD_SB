<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>너와 나의 여행 발자국</title>
    <link rel="stylesheet" th:href="@{/css/main/header.css}">
    <link rel="stylesheet" th:href="@{/css/main/footer.css}">
    <link rel="stylesheet" th:href="@{/css/journal/journalSearch.css}">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
            crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/abd96c8f9a.js" crossorigin="anonymous"></script>
</head>
<body>
<div id="header" th:replace="~{/main/header}"></div>
<main>
    <h2>너와 나의 여행 발자국</h2>
    <div class="search-box-container">
        <form class="search-box" th:action="@{/journal/search}" method="get">
            <input class="search-text" type="text" name="keyword" placeholder="검색어를 입력하세요." onfocus="this.placeholder=''" onblur="this.placeholder='검색어를 입력하세요.'">
            <button class="search-btn" type="submit">
                <i class="fa-solid fa-magnifying-glass"></i>
            </button>
        </form>
    </div>
    <div class="total_area_wrap">
        <button class="total_area_btn" type="button"><a th:href="@{/journal/list(sort='orderByDate')}">전체</a></button>
        <div class="tag_area">
            <button class="tag_area_totalseoul" type="button" >서울</button>
            <ul class="tag_area_seoul">
                <li><button type="button"><a href="/journal/list/area?area=강남">강남구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=도봉">도봉구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=동대문">동대문구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=동작">동작구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=마포">마포구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=서대문">서대문구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=서초">서초구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=성동">성동구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=성북">성북구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=송파">송파구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=양천">양천구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=강동">강동구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=영등포">영등포구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=용산">용산구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=은평">은평구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=종로">종로구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=중구">중구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=중랑">중랑구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=강북">강북구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=강서">강서구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=관악">관악구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=광진">광진구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=구로">구로구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=금천">금천구</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=노원">노원구</a></button></li>
            </ul>

            <button class="tag_area_totalgeonggi" type="button">경기</button>
            <ul class="tag_area_geonggi">
                <li><button type="button"><a href="/journal/list/area?area=가평">가평시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=동두천">동두천시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=부천">부천시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=성남">성남시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=수원">수원시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=시흥">시흥시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=안산">안산시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=안성">안성시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=안양">안양시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=양주">양주시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=양평군">양평군</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=고양">고양시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=여주">여주시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=연천">연천군</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=오산">오산시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=용인">용인시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=의왕">의왕시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=의정부">의정부시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=이천">이천시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=파주">파주시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=평택">평택시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=포천">포천시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=과천">과천시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=하남">하남시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=화성">화성시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=광명">광명시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=광주">광주시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=구리">구리시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=군포">군포시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=김포">김포시</a></button></li>
                <li><button type="button"><a href="/journal/list/area?area=남양주">남양주시</a></button></li>

            </ul>
        </div>

    </div>
    <div>
        <div class="content-menu">
            <div class="content-total">총 <span id="total-posts">0</span>개</div>
            <div class="content-buttons">
                <a th:href="@{/journal/list(sort='orderByDate')}" class="content-latest" th:class="${sort == 'orderByDate' ? 'bold' : ''}">
                    최신순
                </a>
                <div class="wall">|</div>
                <a th:href="@{/journal/list(sort='orderByLikes')}" class="content-pick" th:class="${sort == 'orderByLikes' ? 'bold' : ''}">
                    찜하기순
                </a>
                <div class="wall">|</div>
                <a th:href="@{/journal/list(sort='orderBySelectedFootprints')}" class="content-chosen" th:class="${sort == 'orderBySelectedFootprints' ? 'bold' : ''}">
                    선정 발자국
                </a>
            </div>
        </div>

        <div>

        </div>
    </div>

    <div class="container">
        <div class="posts" id="posts"></div>
        <div class="pagination" id="pagination"></div>
    </div>



</main>
<div id="footer" th:replace="~{/main/footer}"></div>
<script th:src="@{/js/journal/journalSearch.js}"></script>
<script th:inline="javascript" defer>
    /*<![CDATA[*/
    // 서버에서 전달된 journalList를 JavaScript 배열로 처리
    const journalList = /*[[${journalList}]]*/ [];
    console.log("journalList:", journalList);  // 서버에서 전달된 journalList 확인

    // journalList가 비어있지 않다면 displayPosts와 setupPagination 호출
    if (journalList.length > 0) {
        displayPosts();
        setupPagination();
    } else {
        console.log("No posts available.");
    }
    /*]]>*/
</script>
</body>
</html>